<UserControl x:Class="DeviceMonitorCS.Views.PerformanceView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="900">
    <UserControl.Resources>
        <Style TargetType="ProgressBar">
            <Setter Property="Height" Value="10"/>
            <Setter Property="Background" Value="#333"/>
        </Style>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="#EEE"/>
            <Setter Property="FontFamily" Value="Segoe UI Variable"/>
        </Style>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- Header -->
                <RowDefinition Height="Auto"/> <!-- CPU/RAM Row -->
                <RowDefinition Height="Auto"/> <!-- Network Row -->
                <RowDefinition Height="Auto"/> <!-- GPU Row -->
                <RowDefinition Height="Auto"/> <!-- Disk Row -->
            </Grid.RowDefinitions>
            
            <TextBlock Text="System Performance" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,20" Foreground="{StaticResource NeonBlueBrush}"/>
            
            <!-- CPU & RAM -->
            <Grid Grid.Row="1" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- CPU Panel -->
                <Border Grid.Column="0" Background="#252526" CornerRadius="8" Padding="15">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="&#xE967;" FontFamily="{StaticResource IconFont}" FontSize="24" Foreground="{StaticResource NeonBlueBrush}" Margin="0,0,10,0"/>
                            <TextBlock Text="CPU Usage" FontSize="18" FontWeight="SemiBold"/>
                        </StackPanel>
                        <TextBlock x:Name="CpuText" Text="0%" FontSize="32" FontWeight="Bold" Margin="0,0,0,10"/>
                        <ProgressBar x:Name="CpuBar" Value="0" Maximum="100" Foreground="{StaticResource NeonBlueBrush}"/>
                    </StackPanel>
                </Border>
                
                <!-- RAM Panel -->
                <Border Grid.Column="2" Background="#252526" CornerRadius="8" Padding="15">
                    <StackPanel>
                         <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="&#xE966;" FontFamily="{StaticResource IconFont}" FontSize="24" Foreground="{StaticResource NeonGreenBrush}" Margin="0,0,10,0"/>
                            <TextBlock Text="Memory Usage" FontSize="18" FontWeight="SemiBold"/>
                        </StackPanel>
                        <Grid>
                            <StackPanel HorizontalAlignment="Left">
                                <TextBlock x:Name="RamText" Text="0%" FontSize="32" FontWeight="Bold"/>
                            </StackPanel>
                            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                <TextBlock x:Name="RamDetails" Text="0 GB / 0 GB" FontSize="14" Foreground="#AAA"/>
                            </StackPanel>
                        </Grid>
                        <ProgressBar x:Name="RamBar" Value="0" Maximum="100" Foreground="{StaticResource NeonGreenBrush}" Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>
            
            <!-- Network -->
            <Border Grid.Row="2" Background="#252526" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" VerticalAlignment="Center" Margin="0,0,30,0">
                         <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE8F2;" FontFamily="{StaticResource IconFont}" FontSize="24" Foreground="{StaticResource NeonAmberBrush}" Margin="0,0,10,0"/>
                            <TextBlock Text="Network" FontSize="18" FontWeight="SemiBold"/>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                        <TextBlock Text="Download" Foreground="#AAA" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="NetDownText" Text="0 KB/s" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                         <TextBlock Text="Upload" Foreground="#AAA" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="NetUpText" Text="0 KB/s" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- GPU Section -->
            <Border Grid.Row="3" Background="#252526" CornerRadius="8" Padding="15">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <TextBlock Text="&#xE7F4;" FontFamily="{StaticResource IconFont}" FontSize="24" Foreground="#FF5C5C" Margin="0,0,10,0"/>
                        <TextBlock Text="GPU Configuration" FontSize="18" FontWeight="SemiBold"/>
                    </StackPanel>
                    
                    <ItemsControl x:Name="GpuList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#1E1E1E" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16"/>
                                            <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                                <TextBlock Text="Memory: " Foreground="#AAA"/>
                                                <TextBlock Text="{Binding MemoryUsage}" Foreground="#AAA"/>
                                                <TextBlock Text=" / " Foreground="#AAA"/>
                                                <TextBlock Text="{Binding TotalMemory}" Foreground="#AAA"/>
                                                <TextBlock Text=" MB" Foreground="#AAA"/>
                                            </StackPanel>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Width="100">
                                            <TextBlock Text="{Binding Utilization, StringFormat='{}{0}%'}" FontSize="20" FontWeight="Bold" HorizontalAlignment="Right" Foreground="{StaticResource NeonBlueBrush}"/>
                                            <ProgressBar Value="{Binding Utilization}" Maximum="100" Height="6" Background="#333" Foreground="{StaticResource NeonBlueBrush}" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

            <!-- Disk Section -->
            <Border Grid.Row="4" Background="#252526" CornerRadius="8" Padding="15" Margin="0,20,0,0">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <TextBlock Text="&#xE7F8;" FontFamily="{StaticResource IconFont}" FontSize="24" Foreground="{StaticResource NeonAmberBrush}" Margin="0,0,10,0"/>
                        <TextBlock Text="Disk Activity" FontSize="18" FontWeight="SemiBold"/>
                    </StackPanel>
                    
                    <ItemsControl x:Name="DiskList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#1E1E1E" CornerRadius="5" Padding="10" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold" FontSize="16"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="1" Margin="0,0,20,0">
                                            <TextBlock Text="Read" Foreground="#AAA" FontSize="12"/>
                                            <TextBlock Text="{Binding ReadSpeed, StringFormat='{}{0:F1} KB/s'}" FontSize="16" FontWeight="Bold" Foreground="{StaticResource NeonGreenBrush}"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Write" Foreground="#AAA" FontSize="12"/>
                                            <TextBlock Text="{Binding WriteSpeed, StringFormat='{}{0:F1} KB/s'}" FontSize="16" FontWeight="Bold" Foreground="{StaticResource NeonBlueBrush}"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
            
        </Grid>
    </ScrollViewer>
</UserControl>
